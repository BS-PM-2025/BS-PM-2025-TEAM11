{% include 'partials/navbar.html' %}
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>פרטי בקשה</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 40px;
            background-color: #f4f4f4;
            direction: rtl;
            text-align: right;
        }

        .box {
            background-color: #ffffff;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            max-width: 700px;
            margin: auto;
        }

        h2 {
            color: #008080;
            margin-bottom: 20px;
        }

        p {
            margin: 10px 0;
        }

        .label {
            font-weight: bold;
            color: #333;
        }

        .response {
            margin-top: 25px;
            background-color: #f1f9f9;
            padding: 15px;
            border-left: 5px solid #00a0a0;
            border-radius: 8px;
        }

        .status-accepted { color: green; font-weight: bold; }
        .status-rejected { color: red; font-weight: bold; }

        .modal {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
}

.modal-content {
  background-color: #fff;
  margin: 15% auto;
  padding: 30px;
  border-radius: 16px;
  width: 360px;
  max-width: 80%;
  text-align: center;
  box-shadow: 0 8px 18px rgba(0,0,0,0.25);
  font-size: 18px;
  font-weight: 500;
}

.modal-buttons {
  margin-top: 20px;
  display: flex;
  justify-content: center;
  gap: 20px;
}

.btn-confirm, .btn-cancel {
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  font-size: 16px;
}

.btn-confirm {
  background-color: #008B8B;
  color: white;
}

.btn-cancel {
  background-color: #eee;
  color: #333;
}
    </style>
</head>
<body>
    <div class="box">
        <h2>פרטי בקשה</h2>

        <p><span class="label">כותרת:</span> {{ req.title }}</p>
        <p><span class="label">תיאור:</span> {{ req.description }}</p>
        <p><span class="label">תאריך הגשה:</span> {{ req.submitted_at|date:"d/m/Y" }}</p>
        <p><span class="label">סטטוס:</span>
            {% if req.status == 'accepted' %}
                <span class="status-accepted">הבקשה התקבלה</span>
            {% elif req.status == 'rejected' %}
                <span class="status-rejected">הבקשה נדחתה</span>
            {% endif %}
        </p>

        {% if req.explanation %}
        <div class="response">
            <strong>תגובה מהמטפל:</strong>
            <p>{{ req.explanation }}</p>
        </div>
        {% endif %}
    </div>

    {% include 'partials/footer.html' %}
<div id="logoutModal" class="modal">
  <div class="modal-content">
    <p>האם את/ה בטוח/ה שברצונך להתנתק ? </p>
    <div class="modal-buttons">
      <button onclick="confirmLogout()" class="btn-confirm">אישור</button>
      <button onclick="closeLogoutModal()" class="btn-cancel">ביטול</button>
    </div>
  </div>
</div>

<script>
function openLogoutModal() {
    document.getElementById("logoutModal").style.display = "block";
}
function closeLogoutModal() {
    document.getElementById("logoutModal").style.display = "none";
}
function confirmLogout() {
    window.location.href = "{% url 'logout_confirmed' %}";
}
</script>

</body>
</html>
